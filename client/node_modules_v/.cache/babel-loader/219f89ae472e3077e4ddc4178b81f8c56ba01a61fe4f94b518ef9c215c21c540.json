{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Neo\\\\Music\\\\bs\\\\blockchain_project\\\\client\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { MapContainer, TileLayer, Marker } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [nodeCount, setNodeCount] = useState(0);\n  const [transactionCount, setTransactionCount] = useState(0);\n  const [nodeLocations, setNodeLocations] = useState([]);\n  useEffect(() => {\n    // Fetch number of nodes\n    axios.get('http://127.0.0.1:5000/get_nodes').then(response => setNodeCount(response.data.nodes.length)).catch(error => console.error('Error fetching nodes:', error));\n\n    // Fetch number of transactions\n    fetch(\"http://localhost:5000/get_chain\").then(response => response.json()).then(data => {\n      const transactions = data.chain.flatMap(block => block.transactions);\n      setTransactionCount(transactions.length);\n    }).catch(error => console.error('Error fetching transactions:', error));\n\n    // Fetch node locations (assuming an endpoint exists to get locations based on registered IPs)\n    axios.get('http://127.0.0.1:5000/get_node_locations').then(response => setNodeLocations(response.data.locations)).catch(error => console.error('Error fetching node locations:', error));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Blockchain Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Registered Nodes: \", nodeCount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Number of Transactions: \", transactionCount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [0, 0],\n      zoom: 2,\n      style: {\n        height: '400px',\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), nodeLocations.map((location, index) => /*#__PURE__*/_jsxDEV(Marker, {\n        position: [location.lat, location.lng]\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n_s(Dashboard, \"k2ezs2CyJhYY1OU0nSiQ0dA0fks=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","MapContainer","TileLayer","Marker","jsxDEV","_jsxDEV","Dashboard","_s","nodeCount","setNodeCount","transactionCount","setTransactionCount","nodeLocations","setNodeLocations","get","then","response","data","nodes","length","catch","error","console","fetch","json","transactions","chain","flatMap","block","locations","className","children","fileName","_jsxFileName","lineNumber","columnNumber","center","zoom","style","height","width","url","map","location","index","position","lat","lng","_c","$RefreshReg$"],"sources":["C:/Users/Neo/Music/bs/blockchain_project/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { MapContainer, TileLayer, Marker } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\nconst Dashboard = () => {\r\n    const [nodeCount, setNodeCount] = useState(0);\r\n    const [transactionCount, setTransactionCount] = useState(0);\r\n    const [nodeLocations, setNodeLocations] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // Fetch number of nodes\r\n        axios.get('http://127.0.0.1:5000/get_nodes')\r\n            .then(response => setNodeCount(response.data.nodes.length))\r\n            .catch(error => console.error('Error fetching nodes:', error));\r\n\r\n        // Fetch number of transactions\r\n        fetch(\"http://localhost:5000/get_chain\")\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                const transactions = data.chain.flatMap(block => block.transactions);\r\n                setTransactionCount(transactions.length);\r\n            })\r\n            .catch(error => console.error('Error fetching transactions:', error));\r\n\r\n        // Fetch node locations (assuming an endpoint exists to get locations based on registered IPs)\r\n        axios.get('http://127.0.0.1:5000/get_node_locations')\r\n            .then(response => setNodeLocations(response.data.locations))\r\n            .catch(error => console.error('Error fetching node locations:', error));\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"dashboard\">\r\n            <h2>Blockchain Dashboard</h2>\r\n            <p>Registered Nodes: {nodeCount}</p>\r\n            <p>Number of Transactions: {transactionCount}</p>\r\n\r\n            {/* Node Map */}\r\n            <MapContainer center={[0, 0]} zoom={2} style={{ height: '400px', width: '100%' }}>\r\n                <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n                {nodeLocations.map((location, index) => (\r\n                    <Marker key={index} position={[location.lat, location.lng]} />\r\n                ))}\r\n            </MapContainer>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,QAAQ,eAAe;AAC/D,OAAO,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACY,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC;EAC3D,MAAM,CAACc,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAEtDC,SAAS,CAAC,MAAM;IACZ;IACAC,KAAK,CAACc,GAAG,CAAC,iCAAiC,CAAC,CACvCC,IAAI,CAACC,QAAQ,IAAIP,YAAY,CAACO,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,MAAM,CAAC,CAAC,CAC1DC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC,CAAC;;IAElE;IACAE,KAAK,CAAC,iCAAiC,CAAC,CACnCR,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAAC,CACjCT,IAAI,CAACE,IAAI,IAAI;MACV,MAAMQ,YAAY,GAAGR,IAAI,CAACS,KAAK,CAACC,OAAO,CAACC,KAAK,IAAIA,KAAK,CAACH,YAAY,CAAC;MACpEd,mBAAmB,CAACc,YAAY,CAACN,MAAM,CAAC;IAC5C,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC,CAAC;;IAEzE;IACArB,KAAK,CAACc,GAAG,CAAC,0CAA0C,CAAC,CAChDC,IAAI,CAACC,QAAQ,IAAIH,gBAAgB,CAACG,QAAQ,CAACC,IAAI,CAACY,SAAS,CAAC,CAAC,CAC3DT,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC,CAAC;EAC/E,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIhB,OAAA;IAAKyB,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACtB1B,OAAA;MAAA0B,QAAA,EAAI;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC7B9B,OAAA;MAAA0B,QAAA,GAAG,oBAAkB,EAACvB,SAAS;IAAA;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACpC9B,OAAA;MAAA0B,QAAA,GAAG,0BAAwB,EAACrB,gBAAgB;IAAA;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAGjD9B,OAAA,CAACJ,YAAY;MAACmC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAE;MAACC,IAAI,EAAE,CAAE;MAACC,KAAK,EAAE;QAAEC,MAAM,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAO,CAAE;MAAAT,QAAA,gBAC7E1B,OAAA,CAACH,SAAS;QAACuC,GAAG,EAAC;MAAoD;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EACrEvB,aAAa,CAAC8B,GAAG,CAAC,CAACC,QAAQ,EAAEC,KAAK,kBAC/BvC,OAAA,CAACF,MAAM;QAAa0C,QAAQ,EAAE,CAACF,QAAQ,CAACG,GAAG,EAAEH,QAAQ,CAACI,GAAG;MAAE,GAA9CH,KAAK;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAA2C,CAChE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACd,CAAC;AAEd,CAAC;AAAC5B,EAAA,CAzCID,SAAS;AAAA0C,EAAA,GAAT1C,SAAS;AA2Cf,eAAeA,SAAS;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}